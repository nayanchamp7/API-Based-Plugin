"use strict";jQuery(document).ready(function(s){s.amu_js={init:function(){s(document).on("click",".amu-button",this.refreshData);var e=this.getTimeDiff(),t=localStorage.getItem("awesomeUsers");null===t||1<e?this.getUsers():(t=JSON.parse(t),this.createList(t.data))},getTimeDiff:function(){var e,t,a=0,n=localStorage.getItem("awesomeUsers");return null!==n&&(t="",t=(n=JSON.parse(n).last_execution_time)<(e=(new Date).getTime())?e-n:n-e,a=new Date(t).getHours()-5),a},createList:function(e){s(".amu-wrapper table thead tr").html(""),s(".amu-wrapper table tfoot tr").html(""),s(".amu-wrapper table tbody").html("");var t=e.data.headers,e=e.data.rows;jQuery.each(t,function(e,t){t=s("<th>").attr({scope:"col",id:"event",class:"manage-column column-event column-primary"}).text(t);t.appendTo(".amu-wrapper table thead tr"),t.clone().appendTo(".amu-wrapper table tfoot tr")}),jQuery.each(e,function(e,t){var a=s("<td>").attr({scope:"col",id:"event",class:"manage-column column-event column-primary"}),n=s("<tr>"),r=new Date(t.date),r=(new Date(r).toLocaleString(),t.date);a.text(t.id).appendTo(n),a.clone().text(t.fname).appendTo(n),a.clone().text(t.lname).appendTo(n),a.clone().text(t.email).appendTo(n),a.clone().text(r).appendTo(n),s(".amu-wrapper table tbody").append(n)})},getUsers:function(){s(".amu-wrapper table").prepend('<div class="amu-spinner"><div class="amu-spinner-content"><span class="amu-spinner-img"></span> Loading Data...</div></div>'),s.get("https://miusage.com/v1/challenge/1/",function(e,t){"success"===t&&(s.amu_js.execute=!1,(t={}).last_execution_time=(new Date).getTime(),t.data=e,localStorage.setItem("awesomeUsers",JSON.stringify(t)),s.amu_js.createList(e),s(".amu-spinner").remove())})},refreshData:function(e){e.preventDefault(),s.amu_js.getUsers()}},s.amu_js.init()});
//# sourceMappingURL=amu.min.js.map
